% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/offspring_function_genPop.R
\name{offspring_function_genPop}
\alias{offspring_function_genPop}
\title{Generate offspring for a general-population (genPop) parent with time-based setting and hospital thinning}
\usage{
offspring_function_genPop(
  parent_hospitalised = NULL,
  parent_time_to_hospitalisation = NULL,
  parent_time_to_outcome = NULL,
  mn_offspring_genPop = NULL,
  overdisp_offspring_genPop = NULL,
  Tg_shape_genPop = NULL,
  Tg_rate_genPop = NULL,
  hospital_quarantine_efficacy = NULL,
  prob_hcw_cond_genPop_comm = NULL,
  prob_hcw_cond_genPop_hospital = NULL
)
}
\arguments{
\item{parent_hospitalised}{Logical scalar. Whether the parent (infector) is hospitalised.}

\item{parent_time_to_hospitalisation}{Numeric scalar \eqn{\ge 0} or \code{NA}. If hospitalised,
the time from infection to hospital admission; must be non-negative. If not hospitalised,
must be \code{NA}.}

\item{parent_time_to_outcome}{Numeric scalar \eqn{\ge 0}. Time from infection to outcome
(recovery/death); used to truncate the generation-time distribution.}

\item{mn_offspring_genPop}{Positive numeric. Mean of the Negative Binomial offspring distribution
for genPop parents (\code{rnbinom(mu = ..., size = ...)}).}

\item{overdisp_offspring_genPop}{Positive numeric. Negative Binomial \code{size} (overdispersion)
for genPop parents.}

\item{Tg_shape_genPop}{Positive numeric. Shape of the Gamma generation-time distribution
for genPop parents (before truncation).}

\item{Tg_rate_genPop}{Positive numeric. Rate of the Gamma generation-time distribution
for genPop parents (before truncation). Mean GT is \code{Tg_shape_genPop / Tg_rate_genPop}.}

\item{hospital_quarantine_efficacy}{Numeric in \code{[0,1]}. Efficacy of hospital admission
at reducing post-admission transmission; hospital keep-probability equals
\code{1 - hospital_quarantine_efficacy}.}

\item{prob_hcw_cond_genPop_comm}{Numeric in \code{[0,1]}. Probability that a \strong{community}-located
offspring generated by a genPop parent is an HCW.}

\item{prob_hcw_cond_genPop_hospital}{Numeric in \code{[0,1]}. Probability that a \strong{hospital}-located
offspring generated by a genPop parent is an HCW.}
}
\description{
Simulates secondary infections (offspring) generated by a \strong{general-population} parent.
The number of candidate offspring is drawn from a Negative Binomial distribution.
Candidate infection times are drawn from a \strong{truncated Gamma} generation-time distribution
on \eqn{[0, t_\mathrm{outcome}]}. Each event is assigned a setting by comparing the infection
time to the parent’s hospitalisation time: events before admission are labelled
\code{"community"} and those after admission \code{"hospital"}. A hospital “quarantine”
effect then thins post-admission events with keep-probability \eqn{1 - \mathrm{hospital\_quarantine\_efficacy}}.
Finally, each offspring is assigned a class (\code{"HCW"} or \code{"genPop"}) using
setting-specific probabilities.
}
